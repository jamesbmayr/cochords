<!DOCTYPE html>
<html lang="en">
	<head>
		<title><script node>getAsset("title")</script>node></title>
		<script node>getAsset("logo")</script>node>
		<script node>getAsset("meta")</script>node>
		<script node>getAsset("fonts")</script>node>
		<script node>getAsset("css-variables")</script>node>
		<link rel="stylesheet" href="main.css"/>
		<link rel="stylesheet" href="music.css"/>
		<script src="audio.js" defer></script>
		<script src="musicxml.js" defer></script>
		<script src="music.js" defer></script>
	</head>
	<body>
		<div id="header">
			<div id="header-file" class="row">
				<div class="left-column">
					<div id="header-file-name-outer">
						<input id="header-file-name" type="text" placeholder="YOUR NAME" autocomplete="off" spellcheck="false" title="your name">
					</div>
				</div>
				<div class="right-column">
					<input id="header-file-title" type="text" placeholder="TITLE" autocomplete="off" spellcheck="false" title="music title">
					<div id="header-file-by">-</div>
					<input id="header-file-composer" type="text" placeholder="COMPOSER(S)" autocomplete="off" spellcheck="false" title="music composers">
					<button id="header-file-download" title="download musicXML file">&darr;&nbsp;MUSIC</button>
				</div>
			</div>
			<div id="header-playback" class="row">
				<div class="left-column">
					<label id="header-playback-swing-outer" title="swing" class="pseudo-button">
						<input id="header-playback-swing" type="checkbox">
						<div>&#x266B;&nbsp;swing</div>
					</label>
				</div>
				<div class="right-column">
					<div id="header-playback-measures-outer">
						<div id="header-playback-measures-m">#</div>
						<input id="header-playback-measures-current" type="number" min="1" max="1" step="1" value="1" placeholder="measure" autocomplete="off">
						<div id="header-playback-measures-slash">/</div>
						<output id="header-playback-measures-total"></output>
						<label id="header-playback-loop-outer" title="loop playback" class="pseudo-button">
						<input id="header-playback-loop" type="checkbox">
						<div>&#10226;</div>
					</label>
					</div>
					<div id="header-playback-controls-outer">
						<label id="header-playback-metronome-outer" title="metronome" class="pseudo-button">
							<input id="header-playback-metronome" type="checkbox">
							<div id="header-playback-metronome-shape">&#9750;</div>
							<div id="header-playback-metronome-pendulum">|</div>
						</label>
						<input type="number" id="header-playback-tempo-multiplier" step="0.1" min="0.1" max="3" value="1" title="tempo multiplier" placeholder="SPEED">
						<div id="header-playback-tempo-multiplier-x">&times;</div>
						<label id="header-playback-play-outer" title="play/pause" class="pseudo-button">
							<input id="header-playback-play" type="checkbox">
							<div>&#9654;play</div>
						</label>
					</div>
					<label id="header-playback-upload-synth-outer" title="upload synth JSON" class="pseudo-button">
						<div>&uarr;&nbsp;synth</div>
						<input id="header-playback-upload-synth-input" type="file">
					</label>
				</div>
			</div>
		</div>
		<div id="content-outer">
			<table id="content">
				<caption id="content-background"></caption>
				<thead id="content-measures-outer">
					<tr id="content-measures">
						<th id="content-measures-text">
							<div class="measures-text">|&nbsp;bars</div>
							<div class="measures-text">&#x2669;beats</div>
							<div class="measures-text">tempo</div>
						</th>
						<th id="content-measures-spacer"></th>
						<th id="content-measures-add-outer">
							<button id="content-measures-add" title="add measure">+</button>
						</th>
					</tr>
				</thead>
				<tbody id="content-parts">
					<tr id="content-parts-add-row">
						<th id="content-parts-add-outer">
							<button id="content-parts-add">+&nbsp;part</button>
						</th>
					</tr>
					<tr id="content-parts-spacer">
						<th></th>
					</tr>
				</tbody>
			</table>
		</div>
		<details id="help">
			<summary id="help-button">?</summary>
			<div id="help-content">
				<div>CONTROLS</div>
				<li>&darr;MUSIC: download musicXML of full score</li>
				<li>SWING: ♫ syncopated (♪♪ &rarr; 3[♪♪]♪)</li>
				<li>LOOP: music restarts immediately at the end</li>
				<li>METRONOME: tick sound on ♩</li>
				<li>SPEED &times;: bpm multiplier</li>
				<li>&uarr;SYNTH: upload custom <a href="https://jamesmayr.com/toneMaker" target="_blank">toneMaker synth</a></li>
				<div>MEASURES</div>
				<li>BARS: + to insert before, &times; to remove</li>
				<li>BEATS: # ♩ quarter notes per measure</li>
				<li>TEMPO: beats per minute, where ♩ is 1 beat</li>
				<div>PARTS</div>
				<li>EDIT: take over editing for that part</li>
				<li>NAME: custom part name</li>
				<li>MIDI: instrument name in MIDI standard</li>
				<li>SYNTH: <a href="https://jamesmayr.com/toneMaker" target="_blank">toneMaker synth</a> sound</li>
				<li>MOVE&uarr;&darr;: reorder parts in the score</li>
				<li>&#x1F508;: synth volume (separate from dynamics)</li>
				<li>DYNAMICS: intensity changes below measures</li>
				<div>NOTES</div>
				<li>range: C1 - C7, semitones ascending vertically</li>
				<li>background: white keys vs. black keys</li>
				<li>beats: horizontal lines indicate the start of each ♩</li>
				<li>ticks: each beat subdivides into 24 ticks</li>
				<div>NOTES - MOUSE</div>
				<li>double-click: create a note</li>
				<li>click: select/unselect a note</li>
				<li>shift-click: multi-select notes</li>
				<li>right-click: delete note</li>
				<li>drag: move notes to change pitch & beat</li>
				<li>drag the right end-cap: change note duration</li>
				<li>click off: submit changes</li>
				<div>NOTES - KEYBOARD</div>
				<li>tab: move through notes</li>
				<li>space: select/unselect highlighted note</li>
				<li>&uarr;&darr;: change pitch by 1 semitone</li>
				<li>shift &uarr;&darr;: change pitch by 1 octave</li>
				<li>&larr;&rarr;: change start beat by 1 tick</li>
				<li>shift &larr;&rarr;: change by full beat</li>
				<li>option/alt &larr;&rarr;: change duration by 1 tick</li>
				<li>shift option/alt &larr;&rarr;: change duration by full beat</li>
				<li>enter: submit changes</li>
				<li>backspace/delete: delete selected notes</li>
				<li>escape: revert selection to original pitches & beats</li>
			</div>
		</details>
	</body>
</html>